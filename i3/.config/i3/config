# classes
# if $scratchclass is changed, it needs to be changed in scratchpad.sh too
set $ac (?i)^anki$
set $at (?i)- Anki$
set $chromeclass (?i)^(?:chromium|chrome)$
set $dolphinclass (?)^dolphin$
set $emacsclass (?)^emacs$
set $firefoxclass (?i)^firefox$
set $floatingclass floating-terminal
set $gimpclass (?i)^gimp.*$
set $imgviewerclass (?i)^sxiv$
set $jetbrainsclass (?i)^jetbrains.*$
set $mediaplayerclass (?i)^(?:mpv|mplayer)$
set $scratchclass scratchpad-terminal
set $torclass (?i)^tor browser$
set $urxvtclass (?i)^urxvt$
set $vlcclass (?i)^vlc$
set $writerclass (?i)^libreoffice-writer$
set $zathuraclass (?i)^zathura$

# scripts
set $bookmarkscript ~/.local/share/scripts/rofibookmarks.sh
set $centerscript ~/.local/share/scripts/center_cursor.sh
set $centerwindowscript ~/.local/share/scripts/center_window.sh
set $comptonscript ~/.local/share/scripts/compton.sh
set $emacsscript ~/.local/share/scripts/toemacs.sh
set $entiresplitscript ~/.local/share/scripts/i3_splitentire.sh
set $exitscript ~/.local/share/scripts/exit.sh
set $fetchscript ~/.local/share/scripts/rofifetch.sh
set $initscript ~/.local/share/scripts/init.sh
set $manscript ~/.local/share/scripts/rofiman.sh
set $markscript ~/.local/share/scripts/mark.sh
set $mousescript ~/.local/share/scripts/mouse_action.sh
set $newworkspacescript ~/.local/share/scripts/i3_new_workspace.sh
set $openscript ~/.local/share/scripts/rofilocate.sh
set $pulsescript ~/.local/share/scripts/pulse.sh
set $renameworkspacescript ~/.local/share/scripts/i3_rename_workspace.sh
set $rofiinteractivescript ~/.local/share/scripts/rofiinteractive.sh
set $rofipythonscript ~/.local/share/scripts/rofipython.sh
set $scratchscript ~/.local/share/scripts/i3_scratchpad.sh
set $scrotscript ~/.local/share/scripts/screenshot.sh
set $setvolumescript ~/.local/share/scripts/pulse.sh set
set $surfrawscript ~/.local/share/scripts/rofisurfraw.sh
set $wallpaperscript ~/.local/share/scripts/set_wallpaper.sh
set $workspacescript ~/.local/share/scripts/i3_workspace.sh
set $xbacklightscript ~/.local/share/scripts/xbacklight.sh

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
font pango:Inconsolata, monaco, Noto Sans Mono 12

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec urxvtc

# start st
bindsym $mod+Mod1+Return exec st

# start a floating terminal with tmux
bindsym $mod+Shift+Return exec "urxvtc -name $scratchclass -e tmux new-session -As0"

# start a floating terminal
bindsym $mod+Ctrl+Return exec "urxvtc -name $floatingclass"

# kill focused window
bindsym $mod+Shift+q kill

# rofi
bindsym $mod+space exec --no-startup-id rofi -show drun
bindsym $mod+Mod1+space exec --no-startup-id rofi -show run
bindsym $mod+g exec --no-startup-id rofi -modi window -show window
bindsym $mod+Shift+g exec --no-startup-id rofi -show windowcd
bindsym $mod+Ctrl+g exec --no-startup-id rofi -show combi

# focus the latest urgent window (go back by pressing the same shortcut again)
bindsym $mod+q exec --no-startup-id i3-msg '[urgent=latest]' focus | grep -E 'success.+false' && i3-msg workspace back_and_forth

# screenshots
bindsym Print exec --no-startup-id $scrotscript --action=whole
# does not work without the sleep command; fails to grab pointer
bindsym Ctrl+Print exec --no-startup-id "sleep 0.2; $scrotscript --action=select"
bindsym Shift+Print exec --no-startup-id $scrotscript --action=window

# screenshot mode
set $mode_scrot "scrot: (w)indow, (e)verything, (s)election; shift -> 3s delay; ctrl -> copy to clipboard (nosave)"
mode $mode_scrot {
    bindsym w exec --no-startup-id $scrotscript --action=window --show, mode "default"
    bindsym e exec --no-startup-id $scrotscript --action=whole --show, mode "default"
    bindsym s exec --no-startup-id "sleep 0.2; $scrotscript --action=select --show", mode "default"
    bindsym Shift+w exec --no-startup-id $scrotscript --action=window --show --delay=3, mode "default"
    bindsym Shift+e exec --no-startup-id $scrotscript --action=whole --show --delay=3, mode "default"
    bindsym Shift+s exec --no-startup-id "sleep 3; $scrotscript --action=select --show", mode "default"
    bindsym Ctrl+w exec --no-startup-id $scrotscript --action=window --clip --no-save --show, mode "default"
    bindsym Ctrl+e exec --no-startup-id $scrotscript --action=whole --clip --no-save --show, mode "default"
    bindsym Ctrl+s exec --no-startup-id "sleep 0.2; $scrotscript --action=select --clip --no-save --show", mode "default"
    bindsym Ctrl+Shift+w exec --no-startup-id $scrotscript --action=window --clip --delay=3 --no-save, mode "default"
    bindsym Ctrl+Shift+e exec --no-startup-id $scrotscript --action=whole --clip --delay=3 --no-save, mode "default"
    bindsym Ctrl+Shift+s exec --no-startup-id "sleep 3; $scrotscript --action=select --clip --no-save", mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $mode_extended "xtended: (b)ookm., (B)ash, (c/C)alc., (f)ocus, (k) compton, (m)an, (p/P)ython, (r)anger, (s)crot, (t)erm, (w)allp., (x)dg, (z) center/edges"
mode $mode_extended {
    bindsym x exec --no-startup-id $openscript xdg, mode "default"
    bindsym t exec --no-startup-id $openscript term, mode "default"
    bindsym b exec --no-startup-id $bookmarkscript, mode "default"
    bindsym m exec --no-startup-id $manscript, mode "default"
    bindsym c exec --no-startup-id rofi -no-sidebar-mode -show qalc -modi "qalc:qalc +u8", mode "default"
    bindsym Shift+c exec --no-startup-id $rofiinteractivescript qalc, mode "default"
    bindsym p exec --no-startup-id rofi -no-sidebar-mode -show py -modi "py:$rofipythonscript", mode "default"
    bindsym Shift+p exec --no-startup-id $rofiinteractivescript python, mode "default"
    bindsym Shift+B exec --no-startup-id $rofiinteractivescript bash, mode "default"
    bindsym r exec --no-startup-id urxvt -e tmux new-session -A -s ranger ranger, mode "default"

    bindsym f fullscreen enable, bar mode invisible, mode $mode_focus
    bindsym k mode $mode_compton
    bindsym z mode $mode_windowcenter_corner
    bindsym s mode $mode_scrot
    bindsym w mode $mode_wallaper

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+x mode $mode_extended

set $mode_focus "FOCUS"
mode $mode_focus {
    bindsym $mod+x fullscreen disable, bar mode dock, mode "default"
    # focus
    bindsym $mod+h focus left
    bindsym $mod+j focus down
    bindsym $mod+k focus up
    bindsym $mod+l focus right
    # switch workspace
    bindsym $mod+Tab workspace back_and_forth
}

set $mode_compton "compton: (i) invert, (k) kill, (s) start"
mode $mode_compton {
    bindsym i exec --no-startup-id $comptonscript invert, mode "default"
    bindsym k exec --no-startup-id $comptonscript kill, mode "default"
    bindsym s exec --no-startup-id $comptonscript start, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $mode_windowcenter_corner "center window or move to edge: (h,j,k,l) vim keys, (z,c)enter"
mode $mode_windowcenter_corner {
    bindsym h exec --no-startup-id $centerwindowscript left
    bindsym j exec --no-startup-id $centerwindowscript bottom
    bindsym k exec --no-startup-id $centerwindowscript top
    bindsym l exec --no-startup-id $centerwindowscript right
    bindsym z exec --no-startup-id $centerwindowscript center
    bindsym c exec --no-startup-id $centerwindowscript center

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $mode_wallaper "wallpaper: (n)ext random wallpaper, (p)revious wallpaper"
mode $mode_wallaper {
    bindsym n exec --no-startup-id $wallpaperscript
    bindsym p exec --no-startup-id $wallpaperscript pop

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# volume submodes incoming, brace yourself!

set $volume_0 "volume: 0X"
mode $volume_0 {
    bindsym 0, exec --no-startup-id $setvolumescript 00, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 01, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 02, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 03, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 04, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 05, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 06, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 07, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 08, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 09, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_1 "volume: 1X"
mode $volume_1 {
    bindsym 0, exec --no-startup-id $setvolumescript 10, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 11, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 12, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 13, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 14, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 15, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 16, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 17, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 18, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 19, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_2 "volume: 2X"
mode $volume_2 {
    bindsym 0, exec --no-startup-id $setvolumescript 20, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 21, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 22, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 23, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 24, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 25, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 26, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 27, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 28, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 29, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_3 "volume: 3X"
mode $volume_3 {
    bindsym 0, exec --no-startup-id $setvolumescript 30, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 31, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 32, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 33, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 34, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 35, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 36, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 37, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 38, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 39, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_4 "volume: 4X"
mode $volume_4 {
    bindsym 0, exec --no-startup-id $setvolumescript 40, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 41, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 42, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 43, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 44, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 45, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 46, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 47, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 48, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 49, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_5 "volume: 5X"
mode $volume_5 {
    bindsym 0, exec --no-startup-id $setvolumescript 50, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 51, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 52, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 53, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 54, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 55, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 56, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 57, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 58, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 59, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_6 "volume: 6X"
mode $volume_6 {
    bindsym 0, exec --no-startup-id $setvolumescript 60, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 61, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 62, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 63, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 64, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 65, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 66, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 67, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 68, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 69, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_7 "volume: 7X"
mode $volume_7 {
    bindsym 0, exec --no-startup-id $setvolumescript 70, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 71, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 72, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 73, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 74, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 75, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 76, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 77, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 78, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 79, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_8 "volume: 8X"
mode $volume_8 {
    bindsym 0, exec --no-startup-id $setvolumescript 80, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 81, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 82, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 83, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 84, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 85, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 86, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 87, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 88, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 89, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $volume_9 "volume: 9X"
mode $volume_9 {
    bindsym 0, exec --no-startup-id $setvolumescript 90, mode "default"
    bindsym 1, exec --no-startup-id $setvolumescript 91, mode "default"
    bindsym 2, exec --no-startup-id $setvolumescript 92, mode "default"
    bindsym 3, exec --no-startup-id $setvolumescript 93, mode "default"
    bindsym 4, exec --no-startup-id $setvolumescript 94, mode "default"
    bindsym 5, exec --no-startup-id $setvolumescript 95, mode "default"
    bindsym 6, exec --no-startup-id $setvolumescript 96, mode "default"
    bindsym 7, exec --no-startup-id $setvolumescript 97, mode "default"
    bindsym 8, exec --no-startup-id $setvolumescript 98, mode "default"
    bindsym 9, exec --no-startup-id $setvolumescript 99, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# brightness
bindsym $mod+plus exec --no-startup-id $xbacklightscript +10
bindsym $mod+minus exec --no-startup-id $xbacklightscript -10
bindsym $mod+F6 exec --no-startup-id $xbacklightscript +10
bindsym $mod+F5 exec --no-startup-id $xbacklightscript -10
# doesn't really seem to work :-/
bindsym $mod+button4 exec --no-startup-id $xbacklightscript +5
bindsym $mod+button5 exec --no-startup-id $xbacklightscript -5


# manipulating windows using the mouse
bindsym button3 floating toggle
bindsym button9 move right
bindsym button8 move left
bindsym --whole-window $mod+button9 move right
bindsym --whole-window $mod+button8 move left

set $mode_mark "mark"
mode $mode_mark {
    bindsym a mark --add --toggle a, mode "default"
    bindsym b mark --add --toggle b, mode "default"
    bindsym c mark --add --toggle c, mode "default"
    bindsym d mark --add --toggle d, mode "default"
    bindsym e mark --add --toggle e, mode "default"
    bindsym f mark --add --toggle f, mode "default"
    bindsym g mark --add --toggle g, mode "default"
    bindsym h mark --add --toggle h, mode "default"
    bindsym i mark --add --toggle i, mode "default"
    bindsym j mark --add --toggle j, mode "default"
    bindsym k mark --add --toggle k, mode "default"
    bindsym l mark --add --toggle l, mode "default"
    bindsym m mark --add --toggle m, mode "default"
    bindsym n mark --add --toggle n, mode "default"
    bindsym o mark --add --toggle o, mode "default"
    bindsym p mark --add --toggle p, mode "default"
    bindsym q mark --add --toggle q, mode "default"
    bindsym r mark --add --toggle r, mode "default"
    bindsym s mark --add --toggle s, mode "default"
    bindsym t mark --add --toggle t, mode "default"
    bindsym u mark --add --toggle u, mode "default"
    bindsym v mark --add --toggle v, mode "default"
    bindsym w mark --add --toggle w, mode "default"
    bindsym x mark --add --toggle x, mode "default"
    bindsym y mark --add --toggle y, mode "default"
    bindsym z mark --add --toggle z, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+t mode $mode_mark

set $mode_goto_mark "goto mark: shift -> move to mark, ctrl -> fetch mark"
mode $mode_goto_mark {
    bindsym a [con_mark="a"] focus, mode "default"
    bindsym b [con_mark="b"] focus, mode "default"
    bindsym c [con_mark="c"] focus, mode "default"
    bindsym d [con_mark="d"] focus, mode "default"
    bindsym e [con_mark="e"] focus, mode "default"
    bindsym f [con_mark="f"] focus, mode "default"
    bindsym g [con_mark="g"] focus, mode "default"
    bindsym h [con_mark="h"] focus, mode "default"
    bindsym i [con_mark="i"] focus, mode "default"
    bindsym j [con_mark="j"] focus, mode "default"
    bindsym k [con_mark="k"] focus, mode "default"
    bindsym l [con_mark="l"] focus, mode "default"
    bindsym m [con_mark="m"] focus, mode "default"
    bindsym n [con_mark="n"] focus, mode "default"
    bindsym o [con_mark="o"] focus, mode "default"
    bindsym p [con_mark="p"] focus, mode "default"
    bindsym q [con_mark="q"] focus, mode "default"
    bindsym r [con_mark="r"] focus, mode "default"
    bindsym s [con_mark="s"] focus, mode "default"
    bindsym t [con_mark="t"] focus, mode "default"
    bindsym u [con_mark="u"] focus, mode "default"
    bindsym v [con_mark="v"] focus, mode "default"
    bindsym w [con_mark="w"] focus, mode "default"
    bindsym x [con_mark="x"] focus, mode "default"
    bindsym y [con_mark="y"] focus, mode "default"
    bindsym z [con_mark="z"] focus, mode "default"

    bindsym Mod1+a [con_mark="a"] kill, mode "default"
    bindsym Mod1+b [con_mark="b"] kill, mode "default"
    bindsym Mod1+c [con_mark="c"] kill, mode "default"
    bindsym Mod1+d [con_mark="d"] kill, mode "default"
    bindsym Mod1+e [con_mark="e"] kill, mode "default"
    bindsym Mod1+f [con_mark="f"] kill, mode "default"
    bindsym Mod1+g [con_mark="g"] kill, mode "default"
    bindsym Mod1+h [con_mark="h"] kill, mode "default"
    bindsym Mod1+i [con_mark="i"] kill, mode "default"
    bindsym Mod1+j [con_mark="j"] kill, mode "default"
    bindsym Mod1+k [con_mark="k"] kill, mode "default"
    bindsym Mod1+l [con_mark="l"] kill, mode "default"
    bindsym Mod1+m [con_mark="m"] kill, mode "default"
    bindsym Mod1+n [con_mark="n"] kill, mode "default"
    bindsym Mod1+o [con_mark="o"] kill, mode "default"
    bindsym Mod1+p [con_mark="p"] kill, mode "default"
    bindsym Mod1+q [con_mark="q"] kill, mode "default"
    bindsym Mod1+r [con_mark="r"] kill, mode "default"
    bindsym Mod1+s [con_mark="s"] kill, mode "default"
    bindsym Mod1+t [con_mark="t"] kill, mode "default"
    bindsym Mod1+u [con_mark="u"] kill, mode "default"
    bindsym Mod1+v [con_mark="v"] kill, mode "default"
    bindsym Mod1+w [con_mark="w"] kill, mode "default"
    bindsym Mod1+x [con_mark="x"] kill, mode "default"
    bindsym Mod1+y [con_mark="y"] kill, mode "default"
    bindsym Mod1+z [con_mark="z"] kill, mode "default"

    bindsym Ctrl+a [con_mark="a"] move to workspace current, mode "default"
    bindsym Ctrl+b [con_mark="b"] move to workspace current, mode "default"
    bindsym Ctrl+c [con_mark="c"] move to workspace current, mode "default"
    bindsym Ctrl+d [con_mark="d"] move to workspace current, mode "default"
    bindsym Ctrl+e [con_mark="e"] move to workspace current, mode "default"
    bindsym Ctrl+f [con_mark="f"] move to workspace current, mode "default"
    bindsym Ctrl+g [con_mark="g"] move to workspace current, mode "default"
    bindsym Ctrl+h [con_mark="h"] move to workspace current, mode "default"
    bindsym Ctrl+i [con_mark="i"] move to workspace current, mode "default"
    bindsym Ctrl+j [con_mark="j"] move to workspace current, mode "default"
    bindsym Ctrl+k [con_mark="k"] move to workspace current, mode "default"
    bindsym Ctrl+l [con_mark="l"] move to workspace current, mode "default"
    bindsym Ctrl+m [con_mark="m"] move to workspace current, mode "default"
    bindsym Ctrl+n [con_mark="n"] move to workspace current, mode "default"
    bindsym Ctrl+o [con_mark="o"] move to workspace current, mode "default"
    bindsym Ctrl+p [con_mark="p"] move to workspace current, mode "default"
    bindsym Ctrl+q [con_mark="q"] move to workspace current, mode "default"
    bindsym Ctrl+r [con_mark="r"] move to workspace current, mode "default"
    bindsym Ctrl+s [con_mark="s"] move to workspace current, mode "default"
    bindsym Ctrl+t [con_mark="t"] move to workspace current, mode "default"
    bindsym Ctrl+u [con_mark="u"] move to workspace current, mode "default"
    bindsym Ctrl+v [con_mark="v"] move to workspace current, mode "default"
    bindsym Ctrl+w [con_mark="w"] move to workspace current, mode "default"
    bindsym Ctrl+x [con_mark="x"] move to workspace current, mode "default"
    bindsym Ctrl+y [con_mark="y"] move to workspace current, mode "default"
    bindsym Ctrl+z [con_mark="z"] move to workspace current, mode "default"

    bindsym Shift+a move window to mark a, mode "default"
    bindsym Shift+b move window to mark b, mode "default"
    bindsym Shift+c move window to mark c, mode "default"
    bindsym Shift+d move window to mark d, mode "default"
    bindsym Shift+e move window to mark e, mode "default"
    bindsym Shift+f move window to mark f, mode "default"
    bindsym Shift+g move window to mark g, mode "default"
    bindsym Shift+h move window to mark h, mode "default"
    bindsym Shift+i move window to mark i, mode "default"
    bindsym Shift+j move window to mark j, mode "default"
    bindsym Shift+k move window to mark k, mode "default"
    bindsym Shift+l move window to mark l, mode "default"
    bindsym Shift+m move window to mark m, mode "default"
    bindsym Shift+n move window to mark n, mode "default"
    bindsym Shift+o move window to mark o, mode "default"
    bindsym Shift+p move window to mark p, mode "default"
    bindsym Shift+q move window to mark q, mode "default"
    bindsym Shift+r move window to mark r, mode "default"
    bindsym Shift+s move window to mark s, mode "default"
    bindsym Shift+t move window to mark t, mode "default"
    bindsym Shift+u move window to mark u, mode "default"
    bindsym Shift+v move window to mark v, mode "default"
    bindsym Shift+w move window to mark w, mode "default"
    bindsym Shift+x move window to mark x, mode "default"
    bindsym Shift+y move window to mark y, mode "default"
    bindsym Shift+z move window to mark z, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+t mode $mode_goto_mark

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+z move position center

# fetch window
bindsym $mod+Shift+f exec --no-startup-id $fetchscript
bindsym $mod+Shift+v exec --no-startup-id $fetchscript

# center cursor in focused window
bindsym $mod+z exec --no-startup-id $centerscript

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+Ctrl+l split h
bindsym $mod+Ctrl+h split h

# split in vertical orientation
bindsym $mod+Ctrl+j split v
bindsym $mod+Ctrl+k split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen
bindsym $mod+Ctrl+f fullscreen toggle global

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+Ctrl+s layout stacking
bindsym $mod+Ctrl+w layout tabbed
bindsym $mod+Ctrl+t layout toggle split
bindsym $mod+w layout toggle

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle
bindsym $mod+s floating toggle

# toggle sticky
bindsym $mod+Shift+s sticky toggle

# toggle bar mode
bindsym $mod+Shift+b bar mode toggle

# change focus between tiling / floating windows
bindsym $mod+ctrl+space focus mode_toggle

# switch between floating windows like a desktop environment
bindsym Mod1+Tab focus floating, focus right

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
bindsym $mod+Shift+a focus child

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10
bindsym $mod+d exec --no-startup-id $workspacescript
bindsym $mod+Shift+d exec --no-startup-id $workspacescript move
bindsym $mod+c exec --no-startup-id $newworkspacescript
bindsym $mod+Shift+c exec --no-startup-id $newworkspacescript move

# rename workspace
bindsym $mod+Mod1+r exec --no-startup-id $renameworkspacescript

# switch to next/previous workspace
bindsym $mod+n workspace next_on_output
bindsym $mod+p workspace prev_on_output
bindsym $mod+m workspace next
bindsym $mod+b workspace prev

# focus other monitors
bindsym $mod+Mod1+m focus output right
bindsym $mod+Mod1+b focus output left

# focus other monitor
bindsym $mod+Mod1+n focus output right
bindsym $mod+Mod1+p focus output left
bindsym $mod+Shift+Mod1+n move output right
bindsym $mod+Shift+Mod1+p move output left

# switch to last workspace
bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Shift+Tab move workspace back_and_forth

# move workspace (Mod1 is alt)
bindsym $mod+Mod1+l move workspace to output right
bindsym $mod+Mod1+h move workspace to output left

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10
bindsym $mod+Shift+n  move container to workspace next_on_output
bindsym $mod+Shift+p move container to workspace prev_on_output

# reload the configuration file
bindsym $mod+Ctrl+r reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# lock screen (Mod1 ist Alt)
bindsym Ctrl+Mod1+l exec "$exitscript lock; sleep 0.2; xset dpms force off"

# turn screen off
bindsym Pause exec "sleep 0.2; xset dpms force off"
bindsym $mod+F9 exec "sleep 0.2; xset dpms force off"

# scratchpad
bindsym $mod+Shift+e move scratchpad
#bindsym $mod+e scratchpad show
bindsym $mod+e exec --no-startup-id $scratchscript
bindsym $mod+ctrl+e [instance="^(?!$scratchclass)"] scratchpad show
bindsym $mod+u scratchpad show
bindsym $mod+Shift+u [floating workspace="__focused__"] move scratchpad

# emacs
bindsym $mod+semicolon exec --no-startup-id $emacsscript
assign [class="Emacs"] e

# resize window (you can also use the mouse for that)
mode "resize" {
    bindsym ctrl+h resize shrink width  1 px
    bindsym ctrl+j resize grow   height 1 px
    bindsym ctrl+k resize shrink height 1 px
    # "grow width" not working for some reason
    bindsym ctrl+l resize grow right    1 px 

    bindsym h resize shrink width  20 px
    bindsym j resize grow   height 20 px
    bindsym k resize shrink height 20 px
    bindsym l resize grow   width  20 px

    bindsym shift+h resize shrink width  80 px
    bindsym shift+j resize grow   height 80 px
    bindsym shift+k resize shrink height 80 px
    bindsym shift+l resize grow   width  80 px

    bindsym Mod1+h resize shrink right  50 px
    bindsym Mod1+j resize shrink up     50 px
    bindsym Mod1+k resize shrink down   50 px
    bindsym Mod1+l resize shrink left 50 px

    bindsym ctrl+mod1+h resize grow left  50 px
    bindsym ctrl+mod1+j resize grow down  50 px
    bindsym ctrl+mod1+k resize grow up    50 px
    bindsym ctrl+mod1+l resize grow right 50 px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r exec --no-startup-id $centerscript, mode "resize"

# turn borders on/off/1pixel
bindsym $mod+Ctrl+b border toggle

set $mode_system "system: (l) lock, (e) logout, (s) suspend, (r) reboot, (shift+s) shutdown, (ctrl+s) hybrid sleep"
mode $mode_system {
    bindsym l exec --no-startup-id       $exitscript lock, mode "default"
    bindsym e exec --no-startup-id       $exitscript logout, mode "default"
    bindsym s exec --no-startup-id       $exitscript suspend, mode "default"
    bindsym r exec --no-startup-id       $exitscript reboot, mode "default"
    bindsym Shift+s exec --no-startup-id $exitscript shutdown, mode "default"
    bindsym Ctrl+s exec --no-startup-id  $exitscript hybrid_sleep, mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Pause mode $mode_system

set $mode_command "command: (t)oggle def. sink, (m)ove inputs to def. sink, (p)ause dunst, (r)esume dunst, (T)oggle mouse, (u) volume++ / (d) volume-- [shift => force], (0-9) set volume"
mode $mode_command {
    bindsym t exec --no-startup-id $pulsescript toggle, mode "default"
    bindsym m exec --no-startup-id $pulsescript move, mode "default"
    bindsym p exec --no-startup-id killall -SIGUSR1 dunst, mode "default"
    bindsym r exec --no-startup-id killall -SIGUSR2 dunst, mode "default"
    bindsym Shift+t exec --no-startup-id $mousescript toggle, mode "default"
    
    bindsym 0, mode $volume_0
    bindsym 1, mode $volume_1
    bindsym 2, mode $volume_2
    bindsym 3, mode $volume_3
    bindsym 4, mode $volume_4
    bindsym 5, mode $volume_5
    bindsym 6, mode $volume_6
    bindsym 7, mode $volume_7
    bindsym 8, mode $volume_8
    bindsym 9, mode $volume_9

    bindsym u exec --no-startup-id $pulsescript up 1
    bindsym d exec --no-startup-id $pulsescript down 1
    bindsym Shift+u exec --no-startup-id $pulsescript force_up
    bindsym Shift+d exec --no-startup-id $pulsescript force_down

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+x mode $mode_command

# colors
set $base00 #101010
set $base01 #252525
set $base02 #464646
set $base03 #525252
set $base04 #ababab
set $base05 #b9b9b9
set $base06 #e3e3e3
set $base07 #f7f7f7
set $base08 #7c7c7c
set $base09 #999999
set $base0A #a0a0a0
set $base0B #8e8e8e
set $base0C #868686
set $base0D #686868
set $base0E #747474
set $base0F #5e5e5e

client.focused $base0E $base0E $base00 $base01
client.focused_inactive $base00 $base00 $base04 $base01
client.unfocused $base01 $base01 $base04 $base01
client.urgent $base03 $base03 $base07 $base08

bar {
   # font pango:InconsolataGo Nerd Font 13
   font pango:InconsolataGo Nerd Font, InconsolataForPowerline Nerd Font, Inconsolata, Noto Sans Mono, monaco 12
   status_command i3status --config ~/.config/i3/i3status
   position bottom
   tray_output primary
   colors {
        separator $base03
        background $base01
        statusline $base05
        focused_workspace $base0C $base0D $base00
        active_workspace $base02 $base02 $base07
        inactive_workspace $base01 $base01 $base03
        urgent_workspace $base08 $base08 $base07
    }
}

# rules
for_window [instance="$scratchclass"] border pixel 2, move scratchpad, scratchpad show, resize set 1572 1037, move position center
for_window [class="$scratchclass"] border pixel 2, move scratchpad, scratchpad show, resize set 1572 1037, move position center
for_window [instance="$floatingclass"] floating enable
for_window [class="$floatingclass"] floating enable
assign [class="mpv"] mpv
for_window [class="mpv"] fullscreen
for_window [class="FULLSCREEN"] fullscreen

# mark rules
# the anki one doesn't work with $markscript; if the title is omitted, then the add window is matched
for_window [class="$ac" tiling title="$at"]                        mark --add a
#for_window [class="$ankiclass" type="dialog"] unmark a
for_window [class="$chromeclass"]            exec --no-startup-id $markscript c
for_window [class="$dolphinclass"]           exec --no-startup-id $markscript d
for_window [class="$emacsclass"]          exec --no-startup-id $markscript e
for_window [class="$firefoxclass" tiling]    exec --no-startup-id $markscript f
for_window [class="$gimpclass" tiling]       exec --no-startup-id $markscript g
for_window [class="$imgviewerclass"]         exec --no-startup-id $markscript i
for_window [class="$jetbrainsclass" tiling]  exec --no-startup-id $markscript j
for_window [class="$mediaplayerclass"]                             mark --add m
for_window [instance="$scratchclass"]        exec --no-startup-id $markscript s
for_window [class="$scratchclass"]        exec --no-startup-id $markscript s
for_window [class="$writerclass" tiling]     exec --no-startup-id $markscript w
# when "class" is used instead of "instance" it also matches the scratchpad
for_window [instance="$urxvtclass"]          exec --no-startup-id $markscript u
for_window [class="$vlcclass" tiling]        exec --no-startup-id $markscript v
for_window [class="$zathuraclass"]           exec --no-startup-id $markscript z

#enable multimedia keys
bindsym XF86AudioRaiseVolume exec --no-startup-id $pulsescript up
bindsym XF86AudioLowerVolume exec --no-startup-id $pulsescript down
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id $pulsescript force_up 10
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id $pulsescript force_down 10
bindsym ctrl+XF86AudioRaiseVolume exec --no-startup-id $pulsescript up 1
bindsym ctrl+XF86AudioLowerVolume exec --no-startup-id $pulsescript down 1
bindsym XF86AudioMute exec --no-startup-id $pulsescript mute

bindsym $mod+Up exec --no-startup-id $pulsescript up
bindsym $mod+Down exec --no-startup-id $pulsescript down
bindsym $mod+Ctrl+Up exec --no-startup-id $pulsescript force_up 1
bindsym $mod+Ctrl+Down exec --no-startup-id $pulsescript force_down 1
bindsym Scroll_Lock exec --no-startup-id $pulsescript mute

bindsym $mod+F10 exec --no-startup-id $pulsescript mute
bindsym $mod+F12 exec --no-startup-id $pulsescript up
bindsym $mod+F11 exec --no-startup-id $pulsescript down
#does not really work...
#bindsym XF86AudioPlay exec playerctl play
#bindsym XF86AudioPause exec playerctl pause
#bindsym XF86AudioNext exec playerctl next
#bindsym XF86AudioPrev exec playerctl previous

exec --no-startup-id $initscript

# vi: ft=conf
# Local Variables:
# major-mode: conf-unix-mode
# End:
